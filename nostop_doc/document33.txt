next prev Python Sending Email using SMTP Simple Mail Transfer Protocol (SMTP) used protocol handle email transfer using Python. used route emails between email servers. application layer protocol which allows users send mail another. receiver retrieves email using protocols POP(Post Office Protocol) IMAP(Internet Message Access Protocol). When server listens connection from client, initiates connection port 587. Python provides smtplib module, which defines SMTP client session object used send emails internet machine. this purpose, have import smtplib module using import statement. import smtplib SMTP object used email transfer. following syntax used create smtplib object. import smtplib smtpObj smtplib.SMTP(host, port, local_hostname) accepts following parameters. host: hostname machine which running your SMTP server. Here, specify address server like (https://www.javatpoint.com) localhost. optional parameter. port: port number which host machine listening SMTP connections. default. local_hostname: SMTP server running your local machine, mention hostname local machine. sendmail() method SMTP object used send mail desired machine. syntax given below. smtpObj.sendmail(sender, receiver, message) Example #!/usr/bin/python3 import smtplib sender_mail 'sender@fromdomain.com' receivers_mail ['reciever@todomain.com'] message """From: From Person Person Subject: Sending SMTP e-mail This test e-mail message. """%(sender_mail,receivers_mail) try: smtpObj smtplib.SMTP('localhost') smtpObj.sendmail(sender_mail, receivers_mail, message) print("Successfully sent email") except Exception: print("Error: unable send email") Sending email from gmail There cases where emails sent using Gmail SMTP server. this case, pass Gmail SMTP server instead using localhost with port 587. following syntax. smtpObj smtplib.SMTP("gmail.com", 587) Here, need login Gmail account using Gmail user name password. this purpose, smtplib provide login() method, which accepts username password sender. This make your Gmail access less secure apps you're using Gmail. will need turn this temporarily this work. Consider following example. Example #!/usr/bin/python3 import smtplib sender_mail 'sender@gmail.com' receivers_mail ['reciever@gmail.com'] message """From: From Person Person Subject: Sending SMTP e-mail This test e-mail message. """%(sender_mail,receivers_mail) try: password input('Enter password'); smtpObj smtplib.SMTP('gmail.com',587) smtpobj.login(sender_mail,password) smtpObj.sendmail(sender_mail, receivers_mail, message) print("Successfully sent email") except Exception: print("Error: unable send email") Sending HTML email format HTML message specifying MIME version, content-type, character send HTML. Consider following example. Example #!/usr/bin/python3 import smtplib sender_mail 'sender@fromdomain.com' receivers_mail ['reciever@todomain.com'] message """From: From Person Person MIME-Version:1.0 Content-type:text/html Subject: Sending SMTP e-mail <h3>Python SMTP</h3> <strong>This test e-mail message.</strong> """%(sender_mail,receivers_mail) try: smtpObj smtplib.SMTP('localhost') smtpObj.sendmail(sender_mail, receivers_mail, message) print("Successfully sent email") except Exception: print("Error: unable send email") Next TopicPython read file prev next