next prev influxdb python while search monitor infrastructur third parti applic built plugin telegraph becom great choic search system resourc such disk network util perform mysql databas what creat applic nonetheless where like store data from user time seri databas mayb consid internet thing iot applic base smart home everi user requir access read from exampl their smart toothbrush want store time durat everi session brush send alert remind kid brush their teeth keep track thing such health batteri durat exist brush head been use collect custom data whether user face applic infrastructur requir that plugin telegraf alreadi cover probabl need write block code consid exampl base smart toothbrush where have base station that run embed linux commun with toothbrush with help bluetooth have alreadi written block code listen incom data seem work well now want into influxdb would telegraf togeth with applic send data over udp unix socket let telegraf handl connect influxdb batch write point thi method absolut fine requir data collect howev want queri that data user will probabl need take benefit librari influxdb avail differ languag order handl interact with influxdb within applic itself there multipl languag there that alreadi have librari influxdb mani them manag commun will understand influxdb python librari let start understand influxdb python client librari influxdb open sourc time seri databas tsdb design develop compani name influxdata written program languag store retriev time seri data field like oper monitor internet thing sensor data applic metric real time analyt also provid support data process from graphit influxdb python librari act python client interact with influxdb librari host github account influxdb maintain trio commun volunt instal librari instal that also simplest instal librari python syntax instal influxdb librari shown below syntax instal influxdb onc instal complet verifi simpli creat python program file type follow snippet code syntax from influxdb import influxdbcli now save file execut error rais librari instal properli howev case except reinstal consid take help from offici document creat connect next step will creat instanc influxdbcli use inform regard server that have access follow snippet code that will replac valu host port with appropri url address port host influxdb follow case run local default port exampl import requir modul from influxdb import influxdbcli defin host port client influxdbcli host localhost port explan abov snippet code have import influxdbcli modul from influxdb librari have then defin host port variabl name client use influxdbcli function where have defin valu paramet such host port respect some other paramet also avail influxdbcli constructor involv usernam password which databas need connect whether util ssl timeout paramet have connect remot host somedomain com port with usernam say anonym password say somepass with help ssl could util follow snippet code instead enabl verif with other paramet true ssl verifi true exampl import requir modul from influxdb import influxdbcli defin differ entiti client influxdbcli host somedomain com port usernam anonym password somepass true verifi ssl true explan abov snippet code have import influxdbcli modul from influxdb librari have then use modul defin host port usernam password ssl verifi ssl store valu client variabl now build databas name mydatabas order data shown below exampl import requir modul from influxdb import influxdbcli defin host port client influxdbcli host somedomain com port usernam anonym password somepass true verifi ssl true creat databas client creat databas mydatabas explan abov snippet code have creat databas name mydatabas use creat databas client check whether databas creat with help get list databas function client shown below exampl import requir modul from influxdb import influxdbcli defin host port client influxdbcli host somedomain com port usernam anonym password somepass true verifi ssl true creat databas client creat databas mydatabas verifi databas creat client get list databas output name telegraf name intern name mydatabas explan abov snippet code have use get list databas function verifi whether databas creat not result observ that databas name mydatabas present along with telegraf intern databas have instal final client thi databas use follow snippet code exampl import requir modul from influxdb import influxdbcli defin host port client influxdbcli host somedomain com port usernam anonym password somepass true verifi ssl true creat databas client creat databas mydatabas set client specifi databas client switch databas mydatabas explan abov snippet code have use switch databas client specifi databas mydatabas insert data that have databas write data client properli configur time some data util write point method client thi method accept list point some other paramet involv batch size which provid abil insert data batch oppos onc thi insert larg amount data write point method paramet known point list dictionari consist point that need written databas creat some sampl data now insert first all insert three point json format variabl known json bodi shown follow snippet code exampl json bodi measur brushev tag user derek brushid time field durat measur brushev tag user derek brushid time field durat measur brushev tag user derek brushid time field durat explan abov snippet code indic brush event smart toothbrush each occur around eight clock morn tag with usernam person util toothbrush brush itself which help track durat use same brush head field contain durat user use brush second alreadi have databas set default input write point json invok method with help json bodi variabl onli paramet shown below exampl client write point json bodi output true explan abov snippet code have use write point with help json bodi variabl paramet result respons term boolean valu which true function write oper been success creat applic would need thi data collect automat insert point databas each time user tri interact with toothbrush queri data onc have data databas work with some queri order back out will util same client object util write data except thi time will execut queri influxdb back result util with queri function client exampl client queri select durat from mydatabas autogen brushev where time now group user explan abov snippet code have use queri function return resultset object contain data output togeth with some conveni method queri request measur mydatabas databas group user util paramet call raw order access json respons from influxdb exampl result raw output statement seri name brushev tag user derek column time durat valu explan abov snippet code have use paramet order access json respons from influxdb most case won have access json directli instead util get point method resultset measur from request filter field want iter through derek brush session could point that group under user with valu derek util follow command exampl point result get point tag user derek explan abov exampl point variabl python gener which function work similarli iter iter over util loop shown below exampl point result get point tag user derek point point print time durat point time point durat output time durat time durat time durat explan abov snippet code have use loop print time durat each brush time user depend applic might iter through these point order comput averag brush time user just verifi that there been number brush event day next topickafka tutori python prev next