next prev metaprogram with metaclass python metaprogram might sound new user ever work with decor metaclass they have use metaprogram their project therefor that metaprogram program that use manipul program thi tutori will discuss metaclass their use what their altern are thi advanc topic python user advis revis basic concept decor python oop concept python befor start thi tutori metaclass python everi modul function associ with some type exampl user variabl that integ valu then associ with int type user know type anyth use type method exampl number print type number type num list print type list type list name mark jackson print type name type name output type number class int type list class list type name class str explan everi type python defin class therefor abov exampl they object int list str class type unlik languag java languag which int char float primari data type user creat type creat class that type exampl creat type object citi class exampl class citi pass citi object citi now will print type object citi class print type citi object type citi object output type citi object class main citi class python also object therefor like other object instanc metaclass metaclass special class type which respons creat class class object exampl user want find type citi class they will find that type exampl class citi pass now will print type citi class print type citi class type citi output type citi class class type class also object modifi them exampl user subtract field function class with other object exampl first will defin class without use class method variabl class citi pass now will defin method variabl citi will now defin class method citi foo lambda self print pune then will creat object userobject citi print userobject userobject foo output pune summar whole metaclass metaclass use creat class these class creat object metaclass respons creat class user write their custom metaclass insert code extra action modifi class creat usual user doe need custom metaclass except case necessari there some issu that resolv use metaclass non metaclass there some case which onli metaclass use resolv them creat custom metaclass creat custom metaclass user custom metaclass inherit type metaclass usual overrid such new new function class befor int function thi use creat object return user overrid thi function control object creat int int function use initi creat object which pass paramet user creat class use type method directli type method call follow way shown previou exampl user call with argument will return type user call three paramet will creat class follow argument pass name class pass tupl which base class inherit class class dictionari thi will serv local namespac class which popul with function variabl exampl citi method self print thi citi class method will creat base class class base userfunct self print thi inherit method will creat citi class dynam use type function citi type citi base dict mark jackson user method citi method now will print type citi print the type citi class type citi will creat instanc citi class citi object citi print type citi object type citi object will call inherit method citi object userfunct will call citi class method citi object user method last will print variabl print citi object output type citi class class type type citi object class main citi thi inherit method thi citi class method mark jackson now let creat metaclass without use type function directli exampl will creat metaclass call multibas which will check class creat inherit from more than base class will rais error exampl insid metaclass class multibas type will overrid new function new citi citi name base citydict number base class greator than will rais error len base rais typeerror there inherit multipl base class els will execut new function super class that will call init function type class return super new citi citi name base citydict metaclass specifi use metaclass keyword argument will multibas class creat class thi will propag subclass base class base metaclass multibas pass thi will rais error class base pass thi will rais error class base pass thi will rais error class base pass thi will rais error class pass output typeerror traceback most recent call last ipython input modul pass thi will rais error class pass ipython input new citi citi name base citydict will rais error len base rais typeerror there inherit multipl base class els will execut new function super class that typeerror there inherit multipl base class solv problem with metaclass there some problem that user solv use metaclass decor there some problem whose solut found onli use metaclass such user want debug class function what they want that whenev class function execut will print their full qualifi name befor execut their bodi exampl from functool import wrap debugg funct decor debug pass function wrap funct wrapperr arg kwarg print the full name thi function funct qualnam return funct arg kwarg return wrapperr debug method cla class decor make debug decor debug class function will check class dictionari callabl function there ani replac with debug version key valu var cla item callabl valu setattr cla key debugg valu return cla sampl class debugmethod class calcul add self return mul self return div self return user cal calcul print user cal add print user cal mul print user cal div output full name thi method calcul add full name thi method calcul mul full name thi method calcul div explan abov solut work fine there problem which user want appli decor method subclass which have inherit calcul class that scenario user appli decor method separ each subclass just like abov exampl calcul class now actual problem there load subclass class appli decor method individu each subclass challeng time consum process resolv thi problem user must make sure that each subclass thi debug properti they should look metaclass base solut exampl will creat class normal then immedi will wrap use debug method decor from functool import wrap debugg funct decor debug pass function wrap funct wrapperr arg kwarg print the full name thi function funct qualnam return funct arg kwarg return wrapperr debug method cla class decor will make debug decor debug class key valu var cla item callabl valu setattr cla key debugg valu return cla class debug meta type meta class which feed creat class object debug method get debug function enabl object new cla clasnam base clasdict object super new cla clasnam base clasdict object debug method object return object base class with metaclass debug meta subclass thi will have appli debug function class base metaclass debug meta pass now will inherit base class calcul base add self return and then will inherit calcul class calcul adv calcul mult self return calcul adv object will show behaviour debug user cal calcul adv print user cal add user cal calcul adv print user cal mult output full name thi function calcul add full name thi function calcul adv mult when user should metaclass user don metaclass most often metaclass mainli use complic situat there case where user metaclass shown abov exampl metaclass use gener down inherit hierarchi thi will affect subclass also user such situat then they metaclass user want chang class automat they metaclass when creat user applic program interfac develop they metaclass that purpos conclus thi tutori have discuss metaclass custom metaclass user them solv problem complic program their altern next topicprecis handl python prev next