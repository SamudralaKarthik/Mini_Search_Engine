next prev context manag python thi tutori will learn about context manag python help manag resourc file descriptor databas connect manag resourc user resourc like file oper databas connect veri common program languag these resourc have limit therefor main problem make sure these resourc will releas after usag becaus they releas thi could lead resourc leakag which caus either slow down system crash machin system user which automat teardown resourc veri help python user achiev thi use context manag which use facilit proper handl resourc most popular perform file oper use with keyword python exampl with open text file txt file data file read let exampl file manag when file open file descriptor will consum which limit resourc process open onli limit number file time exampl file descriptor rang file descriptor append open test file txt output oserror traceback most recent call last file descriptor rang file descriptor append open test file txt oserror errno mani open file test file txt abov exampl case file descriptor leakag error occur say too mani open file thi happen becaus there mani open file they close there chanc where user have forgot close open file manag resourc use context manag tough close file place block program rais except complex algorithm with numer return path most time user tri except final other program languag while work with file make sure that file resourc close after usag even there except python they context manag manag resourc user with keyword when get evalu will result object that perform context manag write context manag use class function with decor creat context manag when user creat context manag they need make sure that class follow method enter exit enter method will return resourc that manag exit method will return anyth perform clean oper let exampl first will creat simpl class name context manag understand basic structur creat context manag use class method exampl class context manag init self print the init method call enter self print the enter method call return self exit self exc type exc valu exc traceback print the exit method call with context manag manag print the with statement block output init method call enter method call with statement block exit method call exampl abov code have creat context manag object that assign variabl after keyword that manag after run program follow method execut sequenc int enter bodi statement which code insid with statement block exit thi method paramet use manag except file manag use context manag now will appli abov concept creat class which help file resourc manag file manag class will help open file read write content then close file exampl class file manag init self file name mode self filenam file name self mode mode self file none enter self self file open self filenam self mode return self file exit self exc type exc valu exc traceback self file close last load file with file manag test file txt file file write javatpoint print file close output true perform file manag use context manag with statement after user execut with statement block oper will execut follow sequenc file manag object will creat with text file txt file name write mode when init method will execut enter method will open text file txt write mode return file manag object variabl file text javatpoint will written into file exit method will take care close file after exit with statement block which teardown oper when print file close statement run user will output true file manag would have alreadi close file which otherwis would need explicitli done manag databas connect use context manger now will show creat simpl databas connect manag system there limit open number databas connect time sane file descriptor therefor context manag help manag connect databas user might have forgotten close collect instal pymongo manag databas connect through content manag user first instal pymongo librari use follow command pip instal pymongo exampl from pymongo import mongocli moc class mongo connect manag init self host name port self hostnam host name self port port self connect none enter self self connect moc self hostnam self port return self exit self exc type exc valu exc traceback self connect close now connect with localhost with mongo connect manag localhost mongo collect mongo connect sampledb test data collect find print data get name output test explan abov code after execut with statement block follow oper will happen sequenc mongo connect manag object will creat with localhost host name port equal when init method execut enter method will open mongodb connect will return mongo connect manag object variabl mongo sampledb databas will access test connect document with will retriev will print name file document exit method will take care close file after exit with statement block which teardown oper conclus thi tutori have discuss content manag python creat content manag help resourc manag file manag manag databas connect next topiccr calcul use python prev next